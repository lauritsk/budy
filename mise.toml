[prepare.uv]
auto = true

[tools]
ty = "latest"
uv = "latest"
ruff = "latest"

[tasks.lint]
run = "ruff check"

[tasks.typecheck]
run = "ty check"

[tasks.test]
depends = ["lint", "typecheck"]
run = "uv run pytest"

[tasks.build]
depends = ["lint", "typecheck", "test"]
run = "uv build"

[tasks.generate-docs]
depends = ["lint", "typecheck", "test"]
run = "uv run typer budy utils docs --output README.md --name budy"

[tasks.ci]
depends = [
  "lint",
  "typecheck",
  "test",
  "build",
  "generate-docs",
]
